<script>
    document.addEventListener('DOMContentLoaded', () => {
        const today = new Date();
        const yyyy = today.getFullYear();
        const mm = String(today.getMonth() + 1).padStart(2, '0');
        const dd = String(today.getDate()).padStart(2, '0');
        const formattedDate = `${yyyy}${mm}${dd}`;
        document.getElementById('date').value = formattedDate;
    });

    function generateName() {
        const projectName = document.getElementById('projectName').value.trim();
        const clientName = document.getElementById('clientName').value.trim();
        const documentType = document.getElementById('documentType').value;
        const date = document.getElementById('date').value.trim();
        const initials = document.getElementById('initials').value.trim();
        const version = document.getElementById('version').value.trim();
        const status = document.getElementById('status').value;

        if (!projectName && !clientName) {
            alert('Please enter either a Project Name or a Client Name.');
            return;
        }

        let generatedName = `${projectName || clientName}_${documentType}_${date}`;

        if (initials) {
            generatedName += `_${initials}`;
        }
        if (version) {
            generatedName += `_${version}`;
        }
        if (status) {
            generatedName += `_${status}`;
        }

        document.getElementById('output').textContent = generatedName;
    }

    function copyToClipboard() {
        const outputText = document.getElementById('output').textContent;
        if (outputText.trim() === '') {
            alert('There is no generated name to copy.');
            return;
        }
        navigator.clipboard.writeText(outputText).then(() => {
            alert('Generated name copied to clipboard!');
        }).catch(err => {
            alert('Failed to copy text: ' + err);
        });
    }
</script>
